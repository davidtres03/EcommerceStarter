<Page x:Class="EcommerceStarter.Installer.Views.PrerequisitesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Prerequisites"
      Loaded="Page_Loaded">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel MaxWidth="700">
            <!-- Title -->
            <TextBlock Text="System Prerequisites"
                      Style="{StaticResource PageTitleStyle}"/>
            
            <!-- Subtitle -->
            <TextBlock Style="{StaticResource PageSubtitleStyle}">
                Checking your system for required components...
                <LineBreak/>
                Missing components will be installed automatically.
            </TextBlock>
            
            <!-- System Information -->
            <Border Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="System Information" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10"/>
                    <TextBlock x:Name="OSInfo" Text="Operating System: Checking..." Margin="0,0,0,5"/>
                    <TextBlock x:Name="DiskSpace" Text="Free Disk Space: Checking..." Margin="0,0,0,5"/>
                    <TextBlock x:Name="AdminStatus" Text="Administrator: Checking..."/>
                </StackPanel>
            </Border>
            
            <!-- .NET 8 SDK -->
            <Border Background="{DynamicResource SystemControlPageBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,0,0,15">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" 
                              x:Name="DotNetStatus"
                              Text="&#x23F3;" 
                              FontSize="24"
                              Margin="0,0,15,0"
                              VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock Text=".NET 8 SDK" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="DotNetMessage" 
                                  Text="Checking..."
                                  FontSize="12"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                    </StackPanel>
                    
                    <Button Grid.Column="2"
                           x:Name="InstallDotNetButton"
                           Content="Install"
                           Style="{StaticResource PrimaryButtonStyle}"
                           Click="InstallDotNet_Click"
                           Visibility="Collapsed"/>
                </Grid>
            </Border>
            
            <!-- SQL Server -->
            <Border Background="{DynamicResource SystemControlPageBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,0,0,15">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" 
                              x:Name="SqlStatus"
                              Text="&#x23F3;" 
                              FontSize="24"
                              Margin="0,0,15,0"
                              VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock Text="SQL Server Express" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="SqlMessage" 
                                  Text="Checking..."
                                  FontSize="12"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                    </StackPanel>
                    
                    <Button Grid.Column="2"
                           x:Name="InstallSqlButton"
                           Content="Install"
                           Style="{StaticResource PrimaryButtonStyle}"
                           Click="InstallSql_Click"
                           Visibility="Collapsed"/>
                </Grid>
            </Border>
            
            <!-- IIS -->
            <Border Background="{DynamicResource SystemControlPageBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,0,0,15">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" 
                              x:Name="IISStatus"
                              Text="&#x23F3;" 
                              FontSize="24"
                              Margin="0,0,15,0"
                              VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock Text="IIS (Internet Information Services)" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="IISMessage" 
                                  Text="Checking..."
                                  FontSize="12"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                    </StackPanel>
                    
                    <Button Grid.Column="2"
                           x:Name="InstallIISButton"
                           Content="Install"
                           Style="{StaticResource PrimaryButtonStyle}"
                           Click="InstallIIS_Click"
                           Visibility="Collapsed"/>
                </Grid>
            </Border>
            
            <!-- ASP.NET Core Hosting Bundle -->
            <Border Background="{DynamicResource SystemControlPageBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,0,0,15">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" 
                              x:Name="HostingBundleStatus"
                              Text="&#x23F3;" 
                              FontSize="24"
                              Margin="0,0,15,0"
                              VerticalAlignment="Center"/>
                    
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock Text="ASP.NET Core Hosting Bundle" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock x:Name="HostingBundleMessage" 
                                  Text="Checking..."
                                  FontSize="12"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                    </StackPanel>
                    
                    <Button Grid.Column="2"
                           x:Name="InstallHostingBundleButton"
                           Content="Install"
                           Style="{StaticResource PrimaryButtonStyle}"
                           Click="InstallHostingBundle_Click"
                           Visibility="Collapsed"/>
                </Grid>
            </Border>
            
            <!-- Status Message -->
            <TextBlock x:Name="StatusText"
                      Text=""
                      TextWrapping="Wrap"
                      FontStyle="Italic"
                      Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                      Margin="0,20,0,0"
                      HorizontalAlignment="Center"/>
            
            <!-- Progress Bar -->
            <ProgressBar x:Name="InstallProgress"
                        Height="8"
                        Margin="0,20,0,0"
                        Visibility="Collapsed"/>
        </StackPanel>
    </ScrollViewer>
</Page>
