<Page x:Class="EcommerceStarter.Upgrader.Views.CompletionPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Complete">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel MaxWidth="700">
            <!-- Success Icon -->
            <Viewbox Width="80" Height="80" Margin="0,20,0,20">
                <Canvas Width="100" Height="100">
                    <!-- Check mark circle -->
                    <Ellipse Width="100" Height="100" 
                            Fill="#10B981" 
                            Opacity="0.2"/>
                    <Ellipse Width="80" Height="80" 
                            Canvas.Left="10" Canvas.Top="10"
                            Fill="#10B981"/>
                    <!-- Check mark -->
                    <Path Data="M 30,50 L 45,65 L 70,35" 
                         Stroke="White" 
                         StrokeThickness="8"/>
                </Canvas>
            </Viewbox>
            
            <TextBlock Text="Installation Complete!"
                      Style="{StaticResource PageTitleStyle}"/>
            <TextBlock Text="Your e-commerce store is ready to use"
                      Style="{StaticResource PageSubtitleStyle}"/>
            
            <!-- Critical Info Box -->
            <Border Background="#FEF3C7"
                   BorderBrush="#F59E0B"
                   BorderThickness="2"
                   CornerRadius="8"
                   Padding="20"
                   Margin="0,30,0,20">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="&#x26A0;&#xFE0F;" FontSize="20" Margin="0,0,10,0"/>
                        <TextBlock Text="SAVE THESE CREDENTIALS"
                                  FontSize="16"
                                  FontWeight="Bold"
                                  Foreground="#92400E"/>
                    </StackPanel>
                    
                    <TextBlock Text="Write down or save these credentials in a secure location. You'll need them to access the admin panel."
                              TextWrapping="Wrap"
                              Foreground="#78350F"
                              Margin="0,0,0,15"/>
                    
                    <!-- Admin Email -->
                    <TextBlock Text="Admin Email:"
                              FontWeight="SemiBold"
                              Foreground="#78350F"
                              Margin="0,0,0,5"/>
                    <Border Background="White"
                           BorderBrush="#D97706"
                           BorderThickness="1"
                           CornerRadius="4"
                           Padding="10"
                           Margin="0,0,0,15">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="AdminEmailText"
                                    IsReadOnly="True"
                                    BorderThickness="0"
                                    Background="Transparent"
                                    FontFamily="Consolas"
                                    FontSize="14"
                                    VerticalAlignment="Center"/>
                            <Button Grid.Column="1"
                                   Content="&#x1F4CB; Copy"
                                   Click="CopyEmail_Click"
                                   Background="#F59E0B"
                                   Foreground="White"
                                   BorderThickness="0"
                                   Padding="10,5"
                                   Cursor="Hand"/>
                        </Grid>
                    </Border>
                    
                    <!-- Admin Password -->
                    <TextBlock Text="Admin Password:"
                              FontWeight="SemiBold"
                              Foreground="#78350F"
                              Margin="0,0,0,5"/>
                    <Border Background="White"
                           BorderBrush="#D97706"
                           BorderThickness="1"
                           CornerRadius="4"
                           Padding="10"
                           Margin="0,0,0,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="AdminPasswordText"
                                    IsReadOnly="True"
                                    BorderThickness="0"
                                    Background="Transparent"
                                    FontFamily="Consolas"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"/>
                            <Button Grid.Column="1"
                                   Content="&#x1F4CB; Copy"
                                   Click="CopyPassword_Click"
                                   Background="#F59E0B"
                                   Foreground="White"
                                   BorderThickness="0"
                                   Padding="10,5"
                                   Cursor="Hand"/>
                        </Grid>
                    </Border>
                    
                    <TextBlock Text="&#x1F4A1; Tip: You can change the password later from the admin panel."
                              FontSize="12"
                              FontStyle="Italic"
                              Foreground="#78350F"/>
                </StackPanel>
            </Border>
            
            <!-- Access Information -->
            <TextBlock Text="Access Your Store"
                      FontSize="18"
                      FontWeight="SemiBold"
                      Margin="0,0,0,15"/>
            
            <Border Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
                   CornerRadius="8"
                   Padding="15"
                   Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="&#x1F3EA; Storefront" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock x:Name="StorefrontUrlText"
                                  FontFamily="Consolas"
                                  Foreground="{StaticResource BrandPrimaryBrush}"
                                  VerticalAlignment="Center"/>
                        <Button Grid.Column="1"
                               Content="Open"
                               Click="OpenStorefront_Click"
                               Background="{StaticResource BrandPrimaryBrush}"
                               Foreground="White"
                               BorderThickness="0"
                               Padding="15,5"
                               Cursor="Hand"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <Border Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
                   CornerRadius="8"
                   Padding="15"
                   Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="&#x2699;&#xFE0F; Admin Panel" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock x:Name="AdminUrlText"
                                  FontFamily="Consolas"
                                  Foreground="{StaticResource BrandPrimaryBrush}"
                                  VerticalAlignment="Center"/>
                        <Button Grid.Column="1"
                               Content="Open"
                               Click="OpenAdmin_Click"
                               Background="{StaticResource BrandPrimaryBrush}"
                               Foreground="White"
                               BorderThickness="0"
                               Padding="15,5"
                               Cursor="Hand"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- Next Steps -->
            <TextBlock Text="Next Steps"
                      FontSize="18"
                      FontWeight="SemiBold"
                      Margin="0,0,0,15"/>
            
            <Border Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
                   CornerRadius="8"
                   Padding="15"
                   Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="1&#xFE0F;&#x20E3; Log into the admin panel with the credentials above"
                              TextWrapping="Wrap"
                              Margin="0,0,0,10"/>
                    <TextBlock Text="2&#xFE0F;&#x20E3; Configure your store settings and preferences"
                              TextWrapping="Wrap"
                              Margin="0,0,0,10"/>
                    <TextBlock Text="3&#xFE0F;&#x20E3; Add your products and set up categories"
                              TextWrapping="Wrap"
                              Margin="0,0,0,10"/>
                    <TextBlock Text="4&#xFE0F;&#x20E3; Enable payment processing (Stripe recommended)"
                              TextWrapping="Wrap"
                              Margin="0,0,0,10"/>
                    <TextBlock Text="5&#xFE0F;&#x20E3; Set up email notifications for new orders"
                              TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
            
            <!-- Reconfiguration Info -->
            <Border Background="#EFF6FF"
                   BorderBrush="{StaticResource BrandPrimaryBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Padding="15"
                   Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="&#x1F504; Need to Reconfigure?"
                              FontWeight="SemiBold"
                              Foreground="{StaticResource BrandPrimaryBrush}"
                              Margin="0,0,0,10"/>
                    <TextBlock TextWrapping="Wrap"
                              Foreground="#1E40AF">
                        <Run Text="You can run this installer again to:"/>
                        <LineBreak/>
                        <Run Text="&#x2022; Reset the admin password"/>
                        <LineBreak/>
                        <Run Text="&#x2022; Update database settings"/>
                        <LineBreak/>
                        <Run Text="&#x2022; Reconfigure payment or email options"/>
                        <LineBreak/>
                        <LineBreak/>
                        <Run Text="Your products and data will be preserved."/>
                    </TextBlock>
                </StackPanel>
            </Border>
            
            <Button Content="Finish"
                   Click="Finish_Click"
                   Style="{StaticResource AccentButtonStyle}"
                   HorizontalAlignment="Center"
                   MinWidth="200"
                   Margin="0,20,0,40"/>
        </StackPanel>
    </ScrollViewer>
</Page>
